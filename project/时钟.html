<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <style>
        body {
            height: 100vh;
        }
        canvas {
            border: 2px solid #000;
            border-radius: 12px;
            margin: 50px auto 0;
        }
    </style>
</head>
<body>
    <div style="display: flex;">
        <canvas width="600" height="600"></canvas>
    </div>
    <script>
        function animate() {
            const date = new Date();
            const hours = date.getHours();
            const minutes = date.getMinutes();
            const seconds = date.getSeconds();

            const ctx = document.querySelector('canvas').getContext('2d');
            
            function drawLine(xStart, yStart, xEnd, yEnd) {
                ctx.save();
                ctx.beginPath();
                ctx.moveTo(xStart, yStart);
                ctx.lineTo(xEnd, yEnd);
                ctx.strokeStyle = "#eee";
                ctx.setLineDash([15, 10]);
                ctx.stroke();
                ctx.restore();
            }
            drawLine(0, 300, 600, 300)
            drawLine(300, 0, 300, 600)

            ctx.save();
            ctx.clearRect(0, 0, 600, 600);
            ctx.translate(300, 300);

            ctx.strokeStyle = "#000";
            ctx.lineWidth = 5;
            ctx.lineCap = "round"; 
            ctx.rotate(-Math.PI / 2);

            // 画时针刻度
            ctx.save();
            for (let i = 1; i <= 12; i++) {
                ctx.beginPath();
                ctx.rotate(Math.PI / 6);
                ctx.moveTo(100, 0);
                ctx.lineTo(120, 0);
                ctx.stroke();
            }
            ctx.restore();

            // 画分/秒针刻度
            ctx.save();
            ctx.lineWidth = 2;
            for (let i = 1; i <= 60; i++) {
                ctx.beginPath();
                ctx.rotate(Math.PI / 30);
                ctx.moveTo(110, 0);
                ctx.lineTo(120, 0);
                ctx.stroke();
            }
            ctx.restore();
            
            // 时针
            const hr = hours > 12 ? hours - 12 : hours;
            ctx.save();
            ctx.rotate((Math.PI / 6) * hr + (Math.PI / 360) * minutes + (Math.PI / 21600) * seconds);
            ctx.lineWidth = 14;
            ctx.beginPath();
            ctx.moveTo(-20, 0);
            ctx.lineTo(80, 0);
            ctx.stroke();
            ctx.restore();

            // 分针
            ctx.save();
            ctx.rotate((Math.PI / 30) * minutes + (Math.PI / 1800) * seconds);
            ctx.lineWidth = 10;
            ctx.beginPath();
            ctx.moveTo(-28, 0);
            ctx.lineTo(105, 0);
            ctx.stroke();
            ctx.restore();


            // 秒针
            ctx.save();
            ctx.rotate((Math.PI / 30) * seconds);
            ctx.lineWidth = 6;
            ctx.strokeStyle = '#f00';
            ctx.fillStyle = '#f00'
            ctx.beginPath();
            ctx.moveTo(-30, 0);
            ctx.lineTo(110, 0);
            ctx.stroke();
            ctx.beginPath();
            ctx.arc(0, 0, 10, 0, Math.PI * 2, true);
            ctx.fill();
            ctx.arc(0, 0, 3, 0, Math.PI * 2, true);
            ctx.fill();
            ctx.restore();
            ctx.restore();

            requestAnimationFrame(animate);
        }
        // 开始动画循环
        requestAnimationFrame(animate);
    </script>
</body>
</html>